<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/css/bootstrap.min.css" integrity="sha384-zCbKRCUGaJDkqS1kPbPd7TveP5iyJE0EjAuZQTgFLD2ylzuqKfdKlfG/eSrtxUkn" crossorigin="anonymous">

    <title>Solicitud</title>
</head>
<body>
    <nav class="navbar navbar-expand-lg navbar-dark bg-dark">
		<a class="navbar-brand" href="">Asesoria</a>
		<button class="navbar-toggler" type="button" data-toggle="collapse"
			data-target="#navbarNav" aria-controls="navbarNav"
			aria-expanded="false" aria-label="Toggle navigation">
			<span class="navbar-toggler-icon"></span>
		</button>
		<div class="collapse navbar-collapse" id="navbarNav">
			<ul class="navbar-nav">
				<li class="nav-item"><a class="nav-link" href="/">Inicio</a></li>
			</ul>
		</div>
	</nav>
    <div class="container text-center">
		<div>
			<!--si esto es igual a solicitud si lo voy agregar me saldra este titulo-->
			<h1 th:if="${solicitud.idSolicitud == null}">Registro de solicitud</h1>
			<!--lo contrario de registrar -->
			<h1 th:unless="${solicitud.idSolicitud == null}">Editar solicitud</h1>
		</div>
        <form th:action="@{/solicituds/guardar}" th:object="${solicitud}"
			method="post" style="max-width: 600px; margin: 0 auto;">
			<input type="hidden" th:field="*{idSolicitud}" th:value="${solicitud.idSolicitud}" />
			<div class="m-3">
                <div class="form-group row">
					<label class="col-form-label col-sm-4">Fecha Creacion :
					</label>
					<div class="col-sm-8">
							<input hidden class="form-control" type="text" th:field="*{fechaCreacion}" id="fechaSubCampana" placeholder="" >
							<input disabled class="form-control" type="text"  id="fecha">
					</div>
                </div>
				<!--<div class="form-group row">
					<label class="col-form-label col-sm-4">Estado :
					</label>
					<div class="col-sm-8">
						<input type="text" th:field="*{estadoSolicitud}" class="form-control"
							required />
					</div>
				</div>-->
                <!--Usuario-->
                <div class="form-group row">
					<label class="col-form-label col-sm-4">Usuario : </label>
					<div class="col-sm-8">
                        <select th:field="*{usuario}" class="form-control" required>
							<th:block th:each="usuario : ${listaUsuarios}">
								<!--recorre toda la lista de la usuario que le coloque en el controlador-->
								<option th:text="${usuario.correoUsuario}" th:value="${usuario.idUsuario}"></option>
								<!--el texto va ser el nombre pero con el id me guarda el objeto es lo mas importante-->
							</th:block>
						</select>
                    </div>
				</div>
				<select th:field="*{cliente}">
					<option value="">SELECCIONAR Cliente</option>
					<th:block th:each="listaCliente : ${listaCliente}">
					<option th:text="${listaCliente.nom_Cliente}" th:value="${listaCliente.id_Cliente}"></option>
					</th:block>
				  </select>
				 		<div class="text-center p">
					<button class="boton" type="submit">
						<a style="--clr:#1e9bff" onclick="return confirm('Deseas guardar estos datos!');"><span>Guardar</span><i></i></a>
					</button>
					<button type="button" value="reset" onclick="limpiar();" class="btn btn-primary">Limpiar</button>

				</div>
			</div>
		</form>
	</div>
			<script>
				setFecha();
				setFechaa();

function setFecha(){
  var input = document.getElementById("fechaSubCampana");
    var meses = new Array("Enero", "Febrero", "Marzo", "Abril", "Mayo", "Junio", "Julio", "Agosto", "Septiembre", "Octubre", "Noviembre", "Diciembre");
    var fecha = new Date();
    input.value = (fecha.getDate() + " de " + meses[fecha.getMonth()] + " del " + fecha.getFullYear());
    var esto = input.value = (fecha.getDate() + " de " + meses[fecha.getMonth()] + " del " + fecha.getFullYear());
}function setFechaa(){
  var input = document.getElementById("fecha");
    var meses = new Array("Enero", "Febrero", "Marzo", "Abril", "Mayo", "Junio", "Julio", "Agosto", "Septiembre", "Octubre", "Noviembre", "Diciembre");
    var fecha = new Date();
    input.value = (fecha.getDate() + " de " + meses[fecha.getMonth()] + " del " + fecha.getFullYear());
    var esto = input.value = (fecha.getDate() + " de " + meses[fecha.getMonth()] + " del " + fecha.getFullYear());
}
function limpiar(){
  document.getElementById("form").reset();
  setFecha();
}
			</script>	
</body>
</html>